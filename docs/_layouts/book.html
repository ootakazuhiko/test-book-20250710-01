<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
</head>
<body>
    <div class="book-layout">
        <!-- Header -->
        <header class="book-header">
            <div class="header-left">
                <button class="sidebar-toggle" aria-label="Toggle sidebar" aria-expanded="false">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <a href="{{ '/' | relative_url }}" class="header-title">
                    <h1>{{ site.title }}</h1>
                </a>
            </div>
            <div class="header-right">
                <a href="{{ site.repository.github | default: '#' }}" class="github-link" target="_blank">
                    GitHub
                </a>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="book-sidebar">
            <nav class="sidebar-nav" role="navigation" aria-label="Main navigation">
                {% include sidebar-nav.html %}
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="book-main">
            <div class="book-content">
                <!-- Page Content -->
                <article class="page-content">
                    {{ content }}
                </article>

                <!-- Page Navigation -->
                {% unless page.url == '/' %}
                {% include page-navigation.html %}
                {% endunless %}
            </div>
        </main>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <footer style="text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid #eee;">
        <p>{{ site.title }} • Built with Jekyll • {{ site.time | date: "%Y-%m-%d" }}</p>
    </footer>

    <!-- Scripts -->
    <script src="{{ '/assets/js/sidebar.js' | relative_url }}"></script>
</body>
</html>